@page "/Admin/Roles"
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Components.QuickGrid
@using MMO.Data
@inject UserManager<ApplicationUser> UserManager
@rendermode InteractiveServer
<h3>RoleList</h3>

<h4>@RoleName</h4>

<DataGrid Items="administrators">
    <PropertyColumn Property="@(c => c.Id)" Sortable="true"/>
    <PropertyColumn Property="@(c => c.UserName)" Sortable="true"/>
    <PropertyColumn Property="@(c => c.Email)" Sortable="true"/>
</DataGrid>

@code {
    public string RoleName = "Admin";
    public IQueryable<ApplicationUser> administrators;

    protected override async Task OnInitializedAsync()
    {
        administrators = (await UserManager.GetUsersInRoleAsync(RoleName)).AsQueryable();
    }

}